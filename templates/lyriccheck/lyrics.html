<html>
<head>
	<link href="{{ STATIC_URL }}css/bootstrap.min.css" rel="stylesheet" media="screen" >
	<link href="{{ STATIC_URL }}css/style.css" rel="stylesheet" media="screen" >
	<script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="{{STATIC_URL}}js/bootstrap.js"></script>
    <script src="{{STATIC_URL}}js/levenshtein.js"></script>
    <script src="{{STATIC_URL}}js/strcmp.js"></script>
<script>
	
	//http://andrew.hedges.name/experiments/levenshtein/
	var lyrics= "{{js_lyrics}}";
	lyrics=lyrics.split("|");
	var line_num=0;
	var score=0;
	function checkInput(e){
		$a=$("#lyric_input")
		b=lyrics[line_num];

		if($a.val().length==b.length || e.keyCode == 13){			
			var points=b.length-levenshteinenator($a.val(),b);
			$a.val("");
			$("#plus_points").fadeIn('slow');
			$("#plus_points").fadeOut('slow');
			$("#plus_points").html("+"+points+" points");
			score+=points;
			$("#score").html("Score: "+score);
			line_num+=1;
		}
	}
</script>
</head>
<body>
	<div class="navbar navbar-inverse">
		<div class="navbar-inner" style= "border-radius: 0px; -webkit-border-radius: 0px;">
	    	<div class="container">
  				<a class="brand" href="#">TuneType</a>
  			</div>
  		</div>
	</div>
	<div class="container-fluid">
		<div class= "row-fluid">
			<div class= "span12">
				<h1>{{artist}}</h1>
				<h3>{{song}}</h3>	
			</div>
		</div>
		<div class= "row-fluid">
			<div class= "span12">
				<object width="640" height="360">
				  <param name="movie" value="{{video}}"></param>
				  <param name="allowFullScreen" value="true"></param>
				  <param name="allowScriptAccess" value="always"></param>
				  <embed src="{{video}}" type="application/x-shockwave-flash" allowfullscreen="true" allowScriptAccess="always" width="640" height="360"></embed>
				</object>
			</div>
		</div>
		
		<div class= "row-fluid">		
			<div class= "left span6">
				<pre class= "lyrics">{{lyrics}}</pre>
			</div>
			<div id= "input_box" class= "right span4">
				<input type="text" class= "span12"placeholder="type lyrics..." id= "lyric_input" onKeyUp="checkInput(event)" >
				<div class="alert alert-success span4" id="plus_points"></div>
				<h3 class="well span12" id= "score">Score: 0</h3>
			</div>
		</div>
	</div>

</body>
</html>